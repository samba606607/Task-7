<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
<div id="name" class="main">
<div class="child1">

</div>

<div class="child2">

</div>
</div>
  </body>
  <script type="text/javascript">
    // var get={};
    var query=window.location.search.substring(1).split("&");
    for(var i=0; i<query.length; i++){
      if(query[i]==="")
      continue;
      var parameter=query[i].split("=");
      // console.log(parameter);
    }
    console.log(parameter);

    function loadJSON(file,callback){
      var xhr=new XMLHttpRequest();
      xhr.overrideMimeType("application/json");
      xhr.open("GET",file,true);
      xhr.onreadystatechange=function(){
        if (xhr.readyState===4 && xhr.status=="200") {
          callback(xhr.responseText);
        }
      };
      xhr.send();
    }

    loadJSON('data/data.json', function(text){
      var data=JSON.parse(text);
      console.log(data);
      profileData(data.profiles);
      fun_career(data.career);
      fun_education(data.education);
      fun_achievement(data.achievements);
      fun_skills(data.skills);
    })

function profileData(pro){
  for(var i=0; i<pro.length; i++){
    if(parameter[1]==pro[i].id){
var div=document.querySelector(".child1");
var img=document.createElement("img");
img.src=pro[i].image;
div.appendChild(img);
var h1=document.createElement("h2");
h1.textContent=pro[i].name;
div.appendChild(h1);
var h5=document.createElement("h2");
h5.textContent=pro[i].mail;
div.appendChild(h5);
var h5=document.createElement("h3");
h5.textContent=pro[i].label;
div.appendChild(h5);
var h6=document.createElement("h3");
h6.textContent=pro[i].company;
div.appendChild(h6);

    }
  }
}
var div2=document.querySelector(".child2");

// career fun_education
function fun_career(careerObj){
  var careerHeading=document.createElement("h2");
  careerHeading.textContent="Career Objective";
  div2.appendChild(careerHeading);
  var hr=document.createElement("hr");
  div2.appendChild(hr);
  var careerInfo=document.createElement("p");
  careerInfo.textContent=careerObj.info;
  div2.appendChild(careerInfo);
}

function fun_education(edu){

   var h1=document.createElement("h2");
   h1.textContent="Educational Qualifications";
   div2.appendChild(h1);
   var hr=document.createElement("hr");
   div2.appendChild(hr);
   var list=document.createElement("ul");
   div2.appendChild(list);
   for(var i=0; i<edu.length; i++){
     var listItem=document.createElement("li");
     listItem.textContent=edu[i].degree;
     list.appendChild(listItem);
}
}


function fun_achievement(achieve){
  var headingAchieve=document.createElement("h2");
  headingAchieve.textContent="Achievements";
  div2.appendChild(headingAchieve);
  var hr=document.createElement("hr");
  div2.appendChild(hr);
  var list=document.createElement("ul");
  div2.appendChild(list);
  for(var i=0; i<achieve.length; i++){
    var listItem=document.createElement("li");
    listItem.innerHTML=achieve[i].name;
    list.appendChild(listItem);
  }
}

function fun_skills(tech){
  var heading=document.createElement("h2");
  heading.textContent="Technical Skills";
  div2.appendChild(heading);
  var hr=document.createElement("hr");
  heading.appendChild(hr);
  var tr="";
  var table=document.createElement("table");
  div2.appendChild(table);
for(var i=0; i<tech.length; i++){tr+="<tr><td>"+tech[i].name+"</td><td>"+tech[i].data+"</td></tr>";

}
table.innerHTML=tr;
table.border="1";
}


  </script>
</html>
